<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramp Match Quiz</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramp Match Quiz</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WKH0PGHVXH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-WKH0PGHVXH');
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
    /* =====================
       THEME VARIABLES
    ===================== */
    [data-theme="dark"] {
      --bg: #0a0a0a;
      --bg-card: #141414;
      --bg-hover: rgba(228, 242, 34, 0.08);
      --bg-selected: rgba(228, 242, 34, 0.15);
      --bg-bar: #1a1a1a;
      --text-primary: #FFFFFF;
      --text-secondary: #E0DDD8;
      --text-muted: #AABCA3;
      --text-faint: #787868;
      --border: #3D3D3D;
      --border-hover: #E4F222;
      --accent: #E4F222;
      --accent-hover: #DECC65;
      --accent-glow: rgba(228, 242, 34, 0.25);
      --accent-tint: rgba(228, 242, 34, 0.08);
      --accent-border: rgba(228, 242, 34, 0.25);
      --success: #4ade80;
      --error: #f87171;
      --key-bg: #252525;
      --key-text: #787868;
      --bar-other: #3D3D3D;
      --logo-filter: none;
      --icon-filter: none;
    }

  [data-theme="light"] {
      --bg: #e8e5de;
      --bg-card: #f0ede6;
      --bg-hover: rgba(0, 0, 0, 0.06);
      --bg-selected: rgba(45, 106, 79, 0.12);
      --bg-bar: #d6d3cc;
      --text-primary: #1a1a1a;
      --text-secondary: #2a2a2a;
      --text-muted: #4a4a4a;
      --text-faint: #6a6a6a;
      --border: #c4c1b9;
      --border-hover: #2d6a4f;
      --accent: #2d6a4f;
      --accent-hover: #1b4332;
      --accent-glow: rgba(45, 106, 79, 0.2);
      --accent-tint: rgba(45, 106, 79, 0.08);
      --accent-border: rgba(45, 106, 79, 0.25);
      --success: #16a34a;
      --error: #dc2626;
      --key-bg: #d6d3cc;
      --key-text: #6a6a6a;
      --bar-other: #c4c1b9;
      --logo-filter: brightness(0);
      --icon-filter: none;
    }

    /* =====================
       RESET & BASE
    ===================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .container {
      max-width: 720px;
      width: 100%;
      padding: 24px;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* =====================
       THEME TOGGLE
    ===================== */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 50px;
      padding: 8px 14px;
      cursor: pointer;
      font-size: 1.1rem;
      z-index: 100;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--text-faint);
      font-family: inherit;
      font-weight: 500;
      font-size: 0.8rem;
    }

    .theme-toggle:hover {
      border-color: var(--accent);
      background: var(--bg-hover);
    }

    .theme-toggle-icon {
      font-size: 1rem;
      line-height: 1;
    }

    /* =====================
       SCREENS & ANIMATION
    ===================== */
    .screen {
      display: none;
      width: 100%;
    }

    .screen.active {
      display: block;
      animation: screenFadeIn 0.4s ease;
    }

    @keyframes screenFadeIn {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* =====================
       LANDING
    ===================== */
    .landing-content {
      text-align: center;
    }

    .logo {
      width: 120px;
      margin-bottom: 24px;
      opacity: 0.9;
      filter: var(--logo-filter);
      transition: filter 0.3s ease;
    }

    .icon-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .builder-icon {
      width: 100px;
      height: 100px;
      animation: float 3s ease-in-out infinite;
      image-rendering: pixelated;
      filter: var(--icon-filter);
      transition: filter 0.3s ease;
    }

    .sparkle {
      font-size: 28px;
      animation: sparkleFloat 2s ease-in-out infinite;
    }

    .sparkle-left {
      animation-delay: 0s;
    }

    .sparkle-right {
      animation-delay: 1s;
    }

    @keyframes sparkleFloat {
      0%, 100% { transform: translateY(0) scale(1); opacity: 0.7; }
      50% { transform: translateY(-6px) scale(1.15); opacity: 1; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.2;
      color: var(--text-primary);
    }

    .subtitle {
      font-size: 1.1rem;
      color: var(--text-muted);
      margin-bottom: 12px;
      line-height: 1.6;
      max-width: 540px;
      margin-left: auto;
      margin-right: auto;
    }

    .disclaimer {
      font-size: 0.85rem;
      color: var(--text-faint);
      margin-bottom: 32px;
      font-style: italic;
    }

    /* =====================
       BUTTONS
    ===================== */
    .btn-primary {
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 16px 48px;
      font-size: 1.1rem;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .btn-primary:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px var(--accent-glow);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-primary);
      border: 2px solid var(--border);
      padding: 14px 40px;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .btn-secondary:hover {
      border-color: var(--accent);
      background: var(--accent-tint);
    }

    .btn-back {
      background: none;
      border: none;
      color: var(--text-faint);
      font-size: 0.85rem;
      cursor: pointer;
      padding: 8px 0;
      margin-bottom: 8px;
      font-family: inherit;
      transition: color 0.2s;
      display: none;
    }

    .btn-back:hover {
      color: var(--accent);
    }

    /* =====================
       PROGRESS
    ===================== */
    .progress-bar {
      width: 100%;
      height: 4px;
      background: var(--border);
      border-radius: 4px;
      margin-bottom: 16px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent);
      border-radius: 4px;
      transition: width 0.4s ease;
      width: 0%;
    }

    .step-dots {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 24px;
    }

    .step-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--border);
      transition: all 0.3s ease;
    }

    .step-dot.completed {
      background: var(--accent);
    }

    .step-dot.current {
      background: var(--accent);
      transform: scale(1.4);
      box-shadow: 0 0 8px var(--accent-glow);
    }

    .question-count {
      font-size: 0.85rem;
      color: var(--text-faint);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }

    .question-text {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 28px;
      line-height: 1.4;
      color: var(--text-primary);
    }

    /* =====================
       ANSWERS
    ===================== */
    .answers-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
      animation: answersFadeIn 0.3s ease;
    }

    @keyframes answersFadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .answer-btn {
      background: var(--bg-card);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 16px 20px;
      font-size: 0.95rem;
      font-weight: 500;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
      line-height: 1.5;
      font-family: inherit;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .answer-btn:hover {
      background: var(--bg-hover);
      border-color: var(--border-hover);
      color: var(--text-primary);
      transform: translateX(4px);
    }
@media (hover: none) {
    .answer-btn:hover {
        background: var(--bg-card);
        border-color: var(--border);
        color: var(--text-secondary);
        transform: none;
    }
}
    .answer-btn.selected {
      background: var(--bg-selected);
      border-color: var(--border-hover);
      color: var(--text-primary);
      transform: translateX(6px);
      pointer-events: none;
    }

    .answer-btn.disabled {
      pointer-events: none;
      opacity: 0.5;
    }

    .key-hint {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      background: var(--key-bg);
      border-radius: 4px;
      font-size: 0.75rem;
      color: var(--key-text);
      flex-shrink: 0;
      font-weight: 600;
    }

    /* =====================
       RESULTS
    ===================== */
    .results-content {
      text-align: center;
    }

   .result-emoji {
      font-size: 72px;
      margin-bottom: 16px;
      animation: resultPop 0.5s ease, float 3s ease-in-out 0.5s infinite;
    }

    @keyframes resultPop {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }

    #result-title {
      font-size: 2.4rem;
      font-weight: 900;
      margin-bottom: 12px;
      color: var(--accent);
      background: none;
      -webkit-text-fill-color: var(--accent);
      text-shadow: 0 0 10px var(--accent-glow);
    }

    .archetype-name {
      color: var(--accent);
      -webkit-text-fill-color: var(--accent);
    }

    .result-tagline {
      font-size: 1.15rem;
      color: var(--text-muted);
      font-weight: 600;
      margin-bottom: 20px;
      font-style: italic;
    }

    .result-description {
      font-size: 1rem;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 20px;
      max-width: 580px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }

    .result-enjoy {
      font-size: 0.95rem;
      color: var(--accent);
      line-height: 1.7;
      margin-bottom: 28px;
      max-width: 580px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      padding: 16px 20px;
      background: var(--accent-tint);
      border-radius: 12px;
      border: 1px solid var(--accent-border);
    }

    /* Score Breakdown */
    .score-breakdown {
      max-width: 580px;
      margin: 0 auto 28px auto;
      text-align: left;
    }

    .score-breakdown h3 {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-faint);
      margin-bottom: 12px;
      font-weight: 600;
    }

    .score-row {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      gap: 12px;
    }

    .score-label {
      font-size: 0.8rem;
      color: var(--text-faint);
      width: 150px;
      text-align: right;
      flex-shrink: 0;
    }

    .score-bar-bg {
      flex: 1;
      height: 8px;
      background: var(--bg-bar);
      border-radius: 4px;
      overflow: hidden;
    }

    .score-bar-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.8s ease;
    }

    .score-bar-fill.top {
      background: var(--accent);
    }

    .score-bar-fill.other {
      background: var(--bar-other);
    }

    /* Runner Up */
    .runner-up {
      margin-bottom: 28px;
      padding: 16px 20px;
      background: var(--bg-card);
      border-radius: 12px;
      border: 1px solid var(--border);
      max-width: 580px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }

    .runner-up h3 {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-faint);
      margin-bottom: 8px;
      font-weight: 600;
    }

    .runner-up p {
      color: var(--text-muted);
      font-size: 0.9rem;
      line-height: 1.5;
    }

    /* Actions */
    .results-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .btn-copy {
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 14px 32px;
      font-size: 1rem;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .btn-copy:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px var(--accent-glow);
    }

    .btn-copy.copied {
      background: var(--success);
      color: #0a0a0a;
    }

    /* Email Section */
    .email-section {
      max-width: 580px;
      margin: 0 auto 28px auto;
      text-align: center;
    }

    .email-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 12px;
      font-weight: 500;
    }

    .email-form {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .email-input {
      flex: 1;
      min-width: 220px;
      max-width: 340px;
      padding: 14px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      color: var(--text-primary);
      font-size: 0.95rem;
      font-family: inherit;
      outline: none;
      transition: border-color 0.2s;
    }

    .email-input:focus {
      border-color: var(--accent);
    }

    .email-input::placeholder {
      color: var(--text-faint);
    }

    .btn-email {
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 14px 24px;
      font-size: 0.95rem;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      white-space: nowrap;
    }

    .btn-email:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px var(--accent-glow);
    }

    .btn-email:active {
      transform: translateY(0);
    }

    .btn-email.sent {
      background: var(--success);
    }

    .btn-email:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .email-status {
      font-size: 0.8rem;
      margin-top: 8px;
      min-height: 20px;
      transition: all 0.3s ease;
    }

    .email-status.success {
      color: var(--success);
    }

    .email-status.error {
      color: var(--error);
    }

    .final-disclaimer {
      font-size: 0.8rem;
      color: var(--text-faint);
      font-style: italic;
      max-width: 480px;
      margin: 0 auto;
      line-height: 1.5;
    }

    /* =====================
       RESPONSIVE
    ===================== */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.7rem;
      }

      .question-text {
        font-size: 1.2rem;
      }

      .container {
        padding: 16px;
      }

      .answer-btn {
        padding: 18px 16px;
        font-size: 0.9rem;
      }

      .btn-primary, .btn-copy {
        width: 100%;
        padding: 18px;
      }

      .btn-secondary {
        width: 100%;
      }

      .result-emoji {
        font-size: 56px;
      }

      #result-title {
        font-size: 1.8rem;
      }

      .score-label {
        width: 100px;
        font-size: 0.7rem;
      }

      .step-dots {
        gap: 6px;
      }

      .step-dot {
        width: 6px;
        height: 6px;
      }

      .results-actions {
        flex-direction: column;
      }

      .key-hint {
        display: none;
      }

      .logo {
        width: 90px;
      }

      .builder-icon {
        width: 72px;
        height: 72px;
      }

      .sparkle {
        font-size: 20px;
      }

      .email-form {
        flex-direction: column;
        align-items: center;
      }

      .email-input {
        width: 100%;
        max-width: 100%;
      }

      .btn-email {
        width: 100%;
      }

      .theme-toggle {
        top: 12px;
        right: 12px;
        padding: 6px 10px;
        font-size: 0.75rem;
      }
    }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WKH0PGHVXH');
</script>
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle">
        <span class="theme-toggle-icon" id="theme-icon">‚òÄÔ∏è</span>
        <span id="theme-label">Light</span>
    </button>

    <div class="container">
        <!-- Landing Page -->
        <div id="landing" class="screen active">
            <div class="landing-content">
                <div class="icon-row">
                    <span class="sparkle sparkle-left">‚ú®</span>
                    <img src="builder-icon.png" alt="Builder" class="builder-icon" />
                    <span class="sparkle sparkle-right">‚ú®</span>
                </div>
                <h1>What kind of Builder are you?</h1>
                <p class="subtitle">Answer 10 quick questions to discover your engineering archetype and the kinds of problems you'd love solving at Ramp.</p>
                <p class="disclaimer">This is just for fun and self-reflection!</p>
                <button id="start-btn" class="btn-primary">Let's Go ‚Üí</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz" class="screen">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <div class="step-dots" id="step-dots"></div>
            <button id="back-btn" class="btn-back">&larr; Back</button>
            <p class="question-count" id="question-count">Question 1 of 10</p>
            <h2 id="question-text" class="question-text"></h2>
            <div id="answers" class="answers-grid"></div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen">
            <div class="results-content">
                <div class="result-emoji" id="result-emoji"></div>
                <h1 id="result-title"></h1>
                <p id="result-tagline" class="result-tagline"></p>
                <p id="result-description" class="result-description"></p>
                <p id="result-enjoy" class="result-enjoy"></p>
                <div class="score-breakdown" id="score-breakdown"></div>
                <div class="runner-up" id="runner-up"></div>
              <div class="results-actions">
                    <button id="copy-btn" class="btn-copy">üìã Copy My Result</button>
                    <button id="retake-btn" class="btn-secondary">Retake Quiz</button>
                </div>
                <p class="final-disclaimer">Remember: This quiz is a fun reflection tool, not a placement decision. Your recruiter and team will work with you to find the best fit!</p>
            </div>
        </div>
    </div>

    <script>
    // ========== THEME TOGGLE ==========
    var themeToggle = document.getElementById("theme-toggle");
    var themeIcon = document.getElementById("theme-icon");
    var themeLabel = document.getElementById("theme-label");
    var htmlEl = document.documentElement;

    // Check for saved preference or system preference
    function getPreferredTheme() {
    var saved = localStorage.getItem("ramp-quiz-theme");
    if (saved) return saved;
    return "dark";
}

    function setTheme(theme) {
        htmlEl.setAttribute("data-theme", theme);
        localStorage.setItem("ramp-quiz-theme", theme);
        if (theme === "light") {
            themeIcon.textContent = "\uD83C\uDF19";
            themeLabel.textContent = "Dark";
        } else {
            themeIcon.textContent = "\u2600\uFE0F";
            themeLabel.textContent = "Light";
        }
    }

    // Initialize theme
    setTheme(getPreferredTheme());

    themeToggle.addEventListener("click", function() {
        var current = htmlEl.getAttribute("data-theme");
        setTheme(current === "dark" ? "light" : "dark");
    });

    // Listen for system theme changes
    if (window.matchMedia) {
        window.matchMedia("(prefers-color-scheme: light)").addEventListener("change", function(e) {
            if (!localStorage.getItem("ramp-quiz-theme")) {
                setTheme(e.matches ? "light" : "dark");
            }
        });
    }

    // ========== HELPERS ==========
    function getIndefiniteArticle(phrase) {
        var firstLetter = phrase.trim().charAt(0).toLowerCase();
        return ["a", "e", "i", "o", "u"].indexOf(firstLetter) !== -1 ? "an" : "a";
    }

    function shuffleArray(arr) {
        var shuffled = arr.slice();
        for (var i = shuffled.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = shuffled[i];
            shuffled[i] = shuffled[j];
            shuffled[j] = temp;
        }
        return shuffled;
    }

    // ========== ARCHETYPE DEFINITIONS ==========
    var archetypes = {
        productHacker: {
            name: "Product Hacker",
            emoji: "\uD83E\uDDEA",
            tagline: "You\u2019re energized by experiments, metrics, and making things grow.",
            description: "You love the loop: ship something, measure it, learn, iterate. You\u2019re drawn to problems where success is defined by a number going up\u2014conversion rates, activation, expansion. You\u2019d thrive in an environment where data drives decisions, experiments are constant, and your work directly moves the needle on business growth. You enjoy building both user-facing experiences and the platforms that power experimentation at scale.",
            enjoy: "You\u2019d likely enjoy working on: growth experimentation, conversion optimization, data platforms, sales tooling, and product-led growth systems."
        },
        moneyArchitect: {
            name: "Money Architect",
            emoji: "\uD83D\uDCB0",
            tagline: "You want to build the infrastructure that moves real money\u2014reliably, at scale.",
            description: "You\u2019re drawn to systems where correctness isn\u2019t optional. You want to understand how payments work at a deep level\u2014card networks, ACH rails, settlement, international transfers. The idea of building financial infrastructure that processes millions of transactions excites you more than building UI. You appreciate high-stakes engineering where your systems handle billions of dollars and can\u2019t go down.",
            enjoy: "You\u2019d likely enjoy working on: payment platforms, card systems, financial infrastructure, international payments, stablecoin, and credit/risk decisioning systems."
        },
        experienceCrafter: {
            name: "Experience Crafter",
            emoji: "\u2728",
            tagline: "You care deeply about the people using what you build.",
            description: "Whether it\u2019s an admin setting up company policies, an employee submitting a receipt, or someone booking a business trip\u2014you want to make their experience effortless. You think about UX at every level, from frontend polish to backend automation that eliminates busywork. You love learning what users struggle with and building solutions that feel invisible when they work perfectly.",
            enjoy: "You\u2019d likely enjoy working on: employee-facing tools, admin workflows, travel booking, spend management, and AI-powered automation that reduces user friction."
        },
        workflowAutomator: {
            name: "Workflow Automator",
            emoji: "\u2699\uFE0F",
            tagline: "You see manual processes and can\u2019t help but automate them.",
            description: "You love understanding how a business process works end-to-end\u2014then making it 10x faster. AP workflows, procurement approvals, vendor management, invoice processing\u2014these aren\u2019t boring to you; they\u2019re puzzles. You enjoy domain-heavy work where you become the expert, and you get satisfaction from turning something that took hours into something that takes seconds.",
            enjoy: "You\u2019d likely enjoy working on: bill pay automation, procurement systems, vendor management, AP agents, and business process orchestration."
        },
        connectorBuilder: {
            name: "Connector Builder",
            emoji: "\uD83D\uDD17",
            tagline: "You\u2019re the bridge between systems\u2014making things work together.",
            description: "You find joy in taking two systems that don\u2019t speak the same language and making them communicate perfectly. You\u2019re comfortable navigating messy third-party APIs, legacy systems, and inconsistent data formats. You understand that integrations aren\u2019t glamorous, but they close deals, unlock customers, and make products dramatically more useful. You\u2019re a generalist who learns new domains quickly.",
            enjoy: "You\u2019d likely enjoy working on: third-party integrations, accounting system connections, API platforms, and cross-product data synchronization."
        },
        systemsSculptor: {
            name: "Systems Sculptor",
            emoji: "\uD83C\uDFD7\uFE0F",
            tagline: "You build the foundation that everyone else builds on.",
            description: "Your idea of a great day is making a database query 100x faster, fixing a flaky CI pipeline, or designing a platform abstraction that saves every engineer hours per week. You think in terms of leverage\u2014work that multiplies the output of everyone around you. You care about developer experience, system reliability, and elegant infrastructure. You\u2019d rather build the tools than use them.",
            enjoy: "You\u2019d likely enjoy working on: developer tooling, infrastructure, platform engineering, performance optimization, and internal systems that scale engineering velocity."
        },
        riskDetective: {
            name: "Risk Detective",
            emoji: "\uD83D\uDD0D",
            tagline: "You protect the system\u2014combining data, models, and intuition.",
            description: "You\u2019re drawn to adversarial problems: fraud rings, identity spoofing, suspicious patterns. You enjoy the intersection of engineering and data science\u2014building real-time systems that make decisions using ML models, deterministic rules, and behavioral signals. You care about security, trust, and building systems where a single wrong decision has real financial consequences. High stakes don\u2019t scare you; they motivate you.",
            enjoy: "You\u2019d likely enjoy working on: fraud detection platforms, real-time decisioning systems, authentication, authorization, identity management, and ML-powered risk scoring."
        },
        fieldEngineer: {
            name: "Field Engineer",
            emoji: "\uD83D\uDE80",
            tagline: "You thrive at the edge\u2014closest to customers, furthest from routine.",
            description: "You want variety, autonomy, and direct customer impact. You\u2019re energized by hopping on a call with an enterprise customer, understanding their unique problem, and building a custom solution. You\u2019re comfortable with ambiguity and context-switching. You\u2019re part engineer, part consultant, part problem-solver. You\u2019d rather build something bespoke that wins a deal than work on the same product for months.",
            enjoy: "You\u2019d likely enjoy working on: custom enterprise solutions, customer-facing implementations, demo environments, specialized integrations, and technical consulting."
        }
    };

    // ========== QUESTIONS ==========
var questions = [
        {
            text: "Welcome to Ramp! It\u2019s Day 1. What\u2019s the first thing you do?",
            answers: [
                { text: "Pull up the analytics dashboard and look for patterns", archetype: "productHacker" },
                { text: "Trace how data flows through the core backend systems", archetype: "moneyArchitect" },
                { text: "Shadow a user session to see where people get confused", archetype: "experienceCrafter" },
                { text: "Map out every third-party service and how they connect", archetype: "connectorBuilder" }
            ]
        },
        {
            text: "Week 2. Your manager says: \"Pick any starter project.\" You grab:",
            answers: [
                { text: "Automating a repetitive task that ops runs hundreds of times a day", archetype: "workflowAutomator" },
                { text: "Fixing a flaky test suite that\u2019s slowing the whole team down", archetype: "systemsSculptor" },
                { text: "Building a detection rule for a weird pattern you noticed", archetype: "riskDetective" },
                { text: "Joining a call with an enterprise customer to scope their setup", archetype: "fieldEngineer" }
            ]
        },
        {
            text: "Month 1. You\u2019re settling in. What\u2019s become your guilty pleasure?",
            answers: [
                { text: "Watching real-time dashboards as key metrics climb", archetype: "productHacker" },
                { text: "Digging into a complex data consistency bug across services", archetype: "moneyArchitect" },
                { text: "Making a clunky UI feel effortless after a redesign", archetype: "experienceCrafter" },
                { text: "Connecting two systems that have never talked to each other", archetype: "connectorBuilder" }
            ]
        },
        {
            text: "Uh oh\u2014it\u2019s 2am and your phone buzzes. What gets you out of bed?",
            answers: [
                { text: "\"The core system is dropping requests and losing data\"", archetype: "moneyArchitect" },
                { text: "\"Our biggest customer can\u2019t go live tomorrow without a fix\"", archetype: "fieldEngineer" },
                { text: "\"Something weird\u2014accounts are behaving abnormally\"", archetype: "riskDetective" },
                { text: "\"The build system is broken and 200 engineers are blocked\"", archetype: "systemsSculptor" }
            ]
        },
        {
            text: "Crisis handled \uD83D\uDCAA Your PM asks: \"What should we build next?\"",
            answers: [
                { text: "\"There\u2019s a funnel we can fix\u2014the data is screaming at us\"", archetype: "productHacker" },
                { text: "\"This workflow has 6 manual steps\u2014let\u2019s automate 5 of them\"", archetype: "workflowAutomator" },
                { text: "\"Users are dropping off on this one screen\u2014I have ideas\"", archetype: "experienceCrafter" },
                { text: "\"That customer keeps requesting X\u2014let me go talk to them\"", archetype: "fieldEngineer" }
            ]
        },
        {
            text: "Ramp Hacks is here! \uD83C\uDF89 You have 24 hours. What do you build?",
            answers: [
                { text: "An adapter that connects any two APIs automatically", archetype: "connectorBuilder" },
                { text: "A bot that turns Slack messages into automated workflows", archetype: "workflowAutomator" },
                { text: "A system that spots anomalies across all activity in real time", archetype: "riskDetective" },
                { text: "A dev tool that makes deploys 10x faster for every engineer", archetype: "systemsSculptor" }
            ]
        },
        {
            text: "Your Ramp Hacks project won! \uD83C\uDFC6 You find a magic lamp in the prize bag:",
            answers: [
                { text: "Users never have to manually enter data ever again", archetype: "experienceCrafter" },
                { text: "Every system in the world has a perfect, documented API", archetype: "connectorBuilder" },
                { text: "Anomalies get flagged instantly with zero false positives", archetype: "riskDetective" },
                { text: "An experiment engine that tells you what works overnight", archetype: "productHacker" }
            ]
        },
        {
            text: "Fast forward\u2014you\u2019re mentoring a new intern. They ask what you do:",
            answers: [
                { text: "\"I build the core systems that handle our most critical data\"", archetype: "moneyArchitect" },
                { text: "\"I make it so engineers never think about infrastructure\"", archetype: "systemsSculptor" },
                { text: "\"I fly to our biggest customers and build whatever they need\"", archetype: "fieldEngineer" },
                { text: "\"I automate entire business processes end-to-end\"", archetype: "workflowAutomator" }
            ]
        },
        {
            text: "Your one-year Rampiversary! \uD83C\uDF82 Looking back, you\u2019re proudest that:",
            answers: [
                { text: "An integration you built directly helped close a huge deal", archetype: "connectorBuilder" },
                { text: "Users don\u2019t even notice your feature\u2014it just works perfectly", archetype: "experienceCrafter" },
                { text: "You turned a 4-hour manual process into a 30-second automation", archetype: "workflowAutomator" },
                { text: "A system you built handles millions of critical operations daily", archetype: "moneyArchitect" }
            ]
        },
        {
            text: "Year 2. You can give one superpower to your entire team:",
            answers: [
                { text: "Instantly know which experiments are working", archetype: "productHacker" },
                { text: "Every tool and pipeline just works, always", archetype: "systemsSculptor" },
                { text: "Spot anything suspicious before it causes damage", archetype: "riskDetective" },
                { text: "Adapt to whatever any customer needs, on the spot", archetype: "fieldEngineer" }
            ]
        }
    ];
    // ========== STATE ==========
    var currentQuestion = 0;
    var scores = {};
    var answerHistory = [];

    function initScores() {
        scores = {};
        answerHistory = [];
        var keys = Object.keys(archetypes);
        for (var i = 0; i < keys.length; i++) {
            scores[keys[i]] = 0;
        }
    }

    // ========== DOM ELEMENTS ==========
    var landingScreen = document.getElementById("landing");
    var quizScreen = document.getElementById("quiz");
    var resultsScreen = document.getElementById("results");

    var startBtn = document.getElementById("start-btn");
    var retakeBtn = document.getElementById("retake-btn");
    var backBtn = document.getElementById("back-btn");
    var copyBtn = document.getElementById("copy-btn");

    var questionCount = document.getElementById("question-count");
    var questionText = document.getElementById("question-text");
    var answersDiv = document.getElementById("answers");
    var progressFill = document.getElementById("progress-fill");
    var stepDotsDiv = document.getElementById("step-dots");

    // ========== NAVIGATION ==========
    function showScreen(screen) {
        var screens = document.querySelectorAll(".screen");
        for (var i = 0; i < screens.length; i++) {
            screens[i].classList.remove("active");
        }
        screen.classList.add("active");
    }

    // ========== STEP DOTS ==========
    function renderStepDots() {
        stepDotsDiv.innerHTML = "";
        for (var i = 0; i < questions.length; i++) {
            var dot = document.createElement("div");
            dot.className = "step-dot";
            if (i < currentQuestion) dot.classList.add("completed");
            if (i === currentQuestion) dot.classList.add("current");
            stepDotsDiv.appendChild(dot);
        }
    }

    // ========== RENDER QUESTION ==========
    function renderQuestion() {
        window.scrollTo({ top: 0, behavior: "smooth" });

        var q = questions[currentQuestion];

        questionCount.textContent = "Question " + (currentQuestion + 1) + " of " + questions.length;
        questionText.textContent = q.text;
        progressFill.style.width = ((currentQuestion / questions.length) * 100) + "%";

        backBtn.style.display = currentQuestion > 0 ? "block" : "none";

        renderStepDots();

        answersDiv.innerHTML = "";
        var shuffled = shuffleArray(q.answers);
        for (var i = 0; i < shuffled.length; i++) {
            (function(answer, index) {
                var btn = document.createElement("button");
                btn.className = "answer-btn";
                btn.innerHTML = '<span class="key-hint">' + (index + 1) + '</span> ' + answer.text;
                btn.addEventListener("click", function(e) {
                    handleAnswerClick(e.currentTarget, answer.archetype);
                });
                answersDiv.appendChild(btn);
            })(shuffled[i], i);
        }
    }

    // ========== HANDLE ANSWER CLICK ==========
    function handleAnswerClick(clickedBtn, archetype) {
        var allBtns = document.querySelectorAll(".answer-btn");
        for (var i = 0; i < allBtns.length; i++) {
            allBtns[i].classList.add("disabled");
        }

        clickedBtn.classList.remove("disabled");
        clickedBtn.classList.add("selected");

        scores[archetype] += 2;
        answerHistory.push(archetype);
        currentQuestion++;

        setTimeout(function() {
            if (currentQuestion < questions.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }, 350);
    }

    // ========== BACK BUTTON ==========
    backBtn.addEventListener("click", function() {
        if (currentQuestion > 0) {
            currentQuestion--;
            var lastArchetype = answerHistory.pop();
            scores[lastArchetype] -= 2;
            renderQuestion();
        }
    });

    // ========== SCORE BREAKDOWN ==========
    function renderScoreBreakdown() {
        var container = document.getElementById("score-breakdown");
        var entries = [];
        var keys = Object.keys(scores);
        for (var i = 0; i < keys.length; i++) {
            entries.push([keys[i], scores[keys[i]]]);
        }
        entries.sort(function(a, b) { return b[1] - a[1]; });

        var maxScore = entries[0][1] || 1;

        container.innerHTML = "<h3>Your Affinity Breakdown</h3>";

        for (var i = 0; i < entries.length; i++) {
            var key = entries[i][0];
            var score = entries[i][1];
            var arch = archetypes[key];
            var pct = Math.round((score / maxScore) * 100);

            var row = document.createElement("div");
            row.className = "score-row";

            var label = document.createElement("span");
            label.className = "score-label";
            label.textContent = arch.emoji + " " + arch.name;

            var barBg = document.createElement("div");
            barBg.className = "score-bar-bg";

            var barFill = document.createElement("div");
            barFill.className = "score-bar-fill " + (i === 0 ? "top" : "other");
            barFill.style.width = "0%";

            barBg.appendChild(barFill);
            row.appendChild(label);
            row.appendChild(barBg);
            container.appendChild(row);

            (function(fill, targetPct) {
                setTimeout(function() {
                    fill.style.width = targetPct + "%";
                }, 100 + (i * 80));
            })(barFill, pct);
        }
    }

    // ========== SHOW RESULTS ==========
    function showResults() {
        progressFill.style.width = "100%";
        window.scrollTo({ top: 0, behavior: "smooth" });

        var entries = [];
        var keys = Object.keys(scores);
        for (var i = 0; i < keys.length; i++) {
            entries.push([keys[i], scores[keys[i]]]);
        }
        entries.sort(function(a, b) { return b[1] - a[1]; });

        var topKey = entries[0][0];
        var runnerUpKey = entries[1][0];

        var top = archetypes[topKey];
        var runnerUp = archetypes[runnerUpKey];

        var article = getIndefiniteArticle(top.name);

        document.getElementById("result-emoji").textContent = top.emoji;
        document.getElementById("result-title").innerHTML =
            "You\u2019re " + article + ' <span class="archetype-name">' + top.name + "</span>!";
        document.getElementById("result-tagline").textContent = top.tagline;
        document.getElementById("result-description").textContent = top.description;
        document.getElementById("result-enjoy").textContent = top.enjoy;

        var runnerUpDiv = document.getElementById("runner-up");
        runnerUpDiv.innerHTML =
            "<h3>Runner-up: " + runnerUp.emoji + " " + runnerUp.name + "</h3>" +
            "<p>" + runnerUp.tagline + "</p>";
        renderStepDots();
        renderScoreBreakdown();
        // Track quiz completion
     if (typeof gtag === "function") {
            gtag("event", "quiz_completed", {
                event_category: "quiz",
                event_label: top.name,
                value: 1
            });
            gtag("event", "archetype_result", {
                event_category: "archetype",
                event_label: top.name
            });
            gtag("event", "runner_up_result", {
                event_category: "archetype_runner_up",
                event_label: runnerUp.name
            });
        }

        renderStepDots();
        renderScoreBreakdown();
        showScreen(resultsScreen);

    // ========== BUILD RESULTS TEXT ==========
    function buildResultsText() {
        var entries = [];
        var keys = Object.keys(scores);
        for (var i = 0; i < keys.length; i++) {
            entries.push([keys[i], scores[keys[i]]]);
        }
        entries.sort(function(a, b) { return b[1] - a[1]; });

        var top = archetypes[entries[0][0]];
        var runnerUp = archetypes[entries[1][0]];

        var text = top.emoji + " You\u2019re " + getIndefiniteArticle(top.name) + " " + top.name + "!\n\n" +
            top.tagline + "\n\n" +
            top.description + "\n\n" +
            top.enjoy + "\n\n" +
            "---\n\n" +
            "Runner-up: " + runnerUp.emoji + " " + runnerUp.name + "\n" +
            runnerUp.tagline + "\n\n" +
            "---\n\n" +
            "Full breakdown:\n";

        for (var i = 0; i < entries.length; i++) {
            var arch = archetypes[entries[i][0]];
            text += arch.emoji + " " + arch.name + ": " + entries[i][1] + " pts\n";
        }

        return text;
    }

    // ========== COPY RESULTS ==========
    copyBtn.addEventListener("click", function() {
    var text = "I took the Ramp Builder quiz!\n\n" + buildResultsText();
        
        navigator.clipboard.writeText(text).then(function() {
            copyBtn.textContent = "\u2705 Copied!";
            copyBtn.classList.add("copied");
            setTimeout(function() {
                copyBtn.textContent = "\uD83D\uDCCB Copy My Result";
                copyBtn.classList.remove("copied");
            }, 2000);
        });
    });

    // ========== KEYBOARD NAVIGATION ==========
    document.addEventListener("keydown", function(e) {
        if (!quizScreen.classList.contains("active")) return;

        var key = parseInt(e.key);
        var buttons = document.querySelectorAll(".answer-btn:not(.disabled)");
        if (key >= 1 && key <= buttons.length) {
            buttons[key - 1].click();
        }
    });

    // ========== START ==========
    startBtn.addEventListener("click", function() {
        initScores();
        currentQuestion = 0;
        if (typeof gtag === "function") {
            gtag("event", "quiz_started", {
                event_category: "quiz",
                value: 1
            });
        }
        showScreen(quizScreen);
        renderQuestion();
    });

    // ========== RETAKE ==========
    retakeBtn.addEventListener("click", function() {
        initScores();
        currentQuestion = 0;
        showScreen(landingScreen);
    });

    // ========== INITIALIZE ==========
    showScreen(landingScreen);
    </script>
</body>
</html>
